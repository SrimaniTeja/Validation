<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        .container{
            background-color: rgb(225, 238, 197);
            margin-top: 50px;
            border-radius: 10px;
            padding-bottom: 15px;
            border: 1px solid black;
        }
        .btn-primary{
            font-size: large;
            display: flex;
            margin-left: auto;
            margin-right: auto;
            color: rgb(255, 255, 255);
        }
        .btn-primary:hover{
            border: 5px solid red;
            border-radius: 100px;
            transition-duration: 0.1s;
            transition-timing-function: ease-in-out;
        }
    </style>
</head>
<body>
    <div class="container">
        <form onsubmit="Register(event)">
            <h3 class="mb-3" style="text-align: center;">Create your Account..</h3>
            <div class="mb-3">
                <label for="Username" class="form-label">Username</label>
                <input type="text" class="form-control" id="Username">  
            </div>
            <div class="mb-3">
                <label for="Email" class="form-label">Email address</label>
                <input type="email" class="form-control" id="Email">  
            </div>
            <div class="mb-3">
                <label for="Number" class="form-label">Mobile</label>
                <input type="text" class="form-control" id="Number" placeholder="countrycode-mobile">  
            </div>
            <div class="mb-3">
              <label for="Password" class="form-label">Password</label>
              <input type="password" class="form-control" id="Password">
            </div>
            <div class="mb-3">
                <label for="CPassword" class="form-label">Confirm Password</label>
                <input type="password" class="form-control" id="CPassword">
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>

    <script>
        function validateUsername(){
            var u = document.getElementById("Username").value;
            if(!u){ 
                alert("Enter a valid Username");
                return false;
            }
            var ur = /^[a-zA-Z0-9]+$/;
            if(!ur.test(u)){
                alert("Username can only contain alphanumeric characters.");
                return false;
            }
            return true;
        }

        function validateEmail(){
            var e = document.getElementById("Email").value;
            let re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if(!re.test(e)){
                alert("Enter a valid email.");
                return false;
            }
            return true;
        }

        function validatePassword(){
            var p = document.getElementById("Password").value;
            var cp = document.getElementById("CPassword").value;
            let pe = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/;
            if(!pe.test(p)){
                alert("Password must contain at least 8 characters, with a mix of uppercase, lowercase, and digits.");
                return false;
            }
            if(p !== cp){
                alert("Passwords do not match.");
                return false;
            }
            return true;
        }

        function validatePhone(){
            var ph = document.getElementById("Number").value;
            let ps = /^\+\d{1,3}-\d{9,10}$/;
            if(!ps.test(ph)){
                alert("Enter a valid phone number in the format +<country code>-<number>");
                return false;
            }
            return true;
        }

        function Register(event){
            event.preventDefault(); // Prevents the form from submitting
            if(validateUsername() && validatePassword() && validateEmail() && validatePhone()){
                alert("Hurray!! Registration Successful");
            } else {
                alert("Registration failed. Please check the inputs.");
            }
        }
    </script>
</body>
</html>
